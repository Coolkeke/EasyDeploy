<Window x:Class="EasyDeploy.Views.MainWindow" x:Name="easyDeploy"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:control="clr-namespace:EasyDeploy.Controls"
        xmlns:prism="http://prismlibrary.com/"
        prism:ViewModelLocator.AutoWireViewModel="True"
        xmlns:i="http://schemas.microsoft.com/expression/2010/interactivity"
        xmlns:c="clr-namespace:CalcBinding;assembly=CalcBinding"
        xmlns:local="clr-namespace:EasyDeploy.Views"
        mc:Ignorable="d"
        AllowsTransparency="True" Background="Transparent"
        WindowStartupLocation="CenterScreen" WindowStyle="None" ResizeMode="NoResize"
        Title="Easy Deploy" MinHeight="800" MinWidth="1500" Height="800" Width="1500" Icon="/Images/terminal.png">
    <i:Interaction.Triggers>
        <!--Loaded事件-->
        <i:EventTrigger EventName="Loaded">
            <i:InvokeCommandAction Command="{Binding LoadedCommand}" CommandParameter="{Binding ElementName=easyDeploy}"/>
        </i:EventTrigger>
    </i:Interaction.Triggers>
    <Window.Resources>
        <!--右上角更多菜单下拉样式-->
        <SolidColorBrush x:Key="TreeViewItem.MouseOver.Background" Color="#666666" />
        <SolidColorBrush x:Key="TreeViewItem.MouseOver.Foreground" Color="White" />
        <ControlTemplate x:Key="Button_Message_Template" TargetType="{x:Type Button}">
            <Border Background="{TemplateBinding Background}" Cursor="Hand">
                <Border x:Name="Bd">
                    <Grid x:Name="Gd">
                        <Viewbox Width="16" Height="16" HorizontalAlignment="Left" VerticalAlignment="Center" Margin="20,0,0,0">
                            <Path x:Name="Part_Path" Fill="White"/>
                        </Viewbox>
                        <TextBlock x:Name="Tb" Text="{TemplateBinding Content}" Foreground="White" FontSize="{TemplateBinding FontSize}" FontFamily="{TemplateBinding FontFamily}" HorizontalAlignment="Center" VerticalAlignment="Center" Margin="20,0,0,0" />
                    </Grid>
                </Border>
            </Border>
            <ControlTemplate.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter TargetName="Bd" Property="Background" Value="{DynamicResource TreeViewItem.MouseOver.Background}" />
                </Trigger>
                <Trigger Property="IsPressed" Value="True">
                    <Setter TargetName="Bd" Property="Background" Value="{DynamicResource TreeViewItem.MouseOver.Background}" />
                    <Setter TargetName="Gd" Property="Background" Value="{DynamicResource TreeViewItem.MouseOver.Background}" />
                    <Setter TargetName="Tb" Property="Foreground" Value="{DynamicResource TreeViewItem.MouseOver.Foreground}" />
                </Trigger>
                <Trigger SourceName="Tb" Property="Text" Value="Setting">
                    <Setter TargetName="Part_Path" Property="Data" Value="M960 414.72l-81.92-18.432c-6.144-20.48-14.848-39.936-24.576-58.88l44.544-74.24c16.384-26.624 25.088-65.536 0-90.624l-45.056-45.056c-12.288-11.776-28.16-17.92-45.056-17.408-16.896 0-34.304 5.632-47.616 14.336l-72.192 46.08c-18.944-9.728-38.4-17.92-58.368-24.576l-18.432-82.944C605.696 32.768 579.072 0 543.744 0H479.744c-35.328 0-56.832 33.28-64 64l-20.48 81.92c-21.504 6.656-42.496 15.872-62.464 26.112l-73.728-47.104c-13.824-9.216-30.72-14.336-47.616-14.336-16.896-0.512-32.768 5.632-45.056 17.408l-45.056 45.056c-25.088 25.088-16.384 64 0 90.624l46.592 77.824c-8.704 17.92-16.384 35.84-22.528 54.784l-81.92 18.432C32.768 420.352 0 446.976 0 482.304v64c0 35.328 33.28 56.832 64 64l82.944 20.48c5.632 17.408 12.8 34.304 20.992 51.2l-46.592 77.824c-16.384 26.624-25.088 65.536 0 90.624l45.056 45.056c12.288 12.288 28.672 17.408 45.056 17.408 16.896 0 34.304-5.632 47.616-14.336l73.728-47.104c19.968 10.752 40.96 19.456 62.464 26.112l20.48 81.92c7.168 30.72 28.672 64 64 64h64c35.328 0 61.952-32.768 67.584-63.488l18.432-83.456c19.968-6.656 39.424-14.848 57.856-24.064l72.192 46.08c12.8 8.704 30.208 14.336 47.616 14.336 16.896 0.512 33.28-5.632 45.056-17.408l45.056-45.056c25.088-25.088 16.384-64 0-90.624l-44.544-74.24c8.704-17.408 16.896-35.84 23.04-54.784l82.944-20.48c30.72-7.168 64-28.672 64-64V482.304c0.512-35.328-32.768-61.952-62.976-67.584z m-447.488 251.904c-85.504 0-154.624-69.12-154.624-154.112 0-85.504 69.12-154.624 154.624-154.624s154.624 69.12 154.624 154.624c0 84.992-69.12 154.112-154.624 154.112z" />
                </Trigger>
                <Trigger SourceName="Tb" Property="Text" Value="About">
                    <Setter TargetName="Part_Path" Property="Data" Value="M512 992C246.912 992 32 777.088 32 512 32 246.912 246.912 32 512 32c265.088 0 480 214.912 480 480 0 265.088-214.912 480-480 480z m-59.072-512v236.32a54.144 54.144 0 1 0 108.288 0V480a54.144 54.144 0 1 0-108.288 0z m53.76-226.464c-14.72 0-27.232 4.544-37.568 15.136-11.04 9.856-16.192 22.72-16.192 38.656 0 15.136 5.152 28 16.192 38.624 10.336 10.592 22.848 15.904 37.6 15.904a57.6 57.6 0 0 0 39.04-15.168c10.304-10.592 15.456-23.456 15.456-39.36s-5.12-28.8-15.456-38.656c-10.304-10.56-23.584-15.136-39.04-15.136z" />
                </Trigger>
            </ControlTemplate.Triggers>
        </ControlTemplate>
        <Style x:Key="Button_Message" TargetType="{x:Type Button}">
            <Setter Property="Background" Value="#02FFFFFF" />
            <Setter Property="BorderBrush" Value="Transparent" />
            <Setter Property="Foreground" Value="Black" />
            <Setter Property="FontSize" Value="12" />
            <Setter Property="Width" Value="125" />
            <Setter Property="Height" Value="35" />
            <Setter Property="Template" Value="{StaticResource Button_Message_Template}" />
        </Style>
    </Window.Resources>
    <Grid Background="Transparent">
        <Border x:Name="BaseBorder" SnapsToDevicePixels="True" Margin="10">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="35"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>
                <!--标题栏-->
                <Border x:Name="TitleBar" Grid.Row="0" Background="#4C4A48" SnapsToDevicePixels="True" CornerRadius="5,5,0,0">
                    <Grid>
                        <StackPanel Orientation="Horizontal">
                            <Image Source="{Binding ElementName=easyDeploy,Path=Icon}" Width="20" Margin="10,0,5,0"/>
                            <Label Content="{Binding ElementName=easyDeploy,Path=Title}" Foreground="#FEFEFE" FontSize="12" VerticalAlignment="Center" HorizontalAlignment="Left"/>
                        </StackPanel>
                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" VerticalAlignment="Top" Margin="2,1">
                            <control:SvgButton x:Name="MoreMenus" Width="30" Height="25" Margin="0,0,0,0" ImageMargin="5"
                                           ButtonImage="m1002.98416,498.77581l-472.13262,475.50902c-11.25466,11.25464 -29.82483,11.25464 -41.07949,0l-472.13262,-475.50902c-18.00744,-18.00745 -5.06459,-48.95774 20.25837,-48.95774l944.82798,0c25.88571,0 38.82855,30.95029 20.25837,48.95774zm-31.51302,-165.44337l-918.94229,0c-23.63478,0 -43.3304,-19.69564 -43.3304,-43.33042c0,-23.63476 19.69563,-43.3304 43.3304,-43.3304l918.94229,0c23.63476,0 43.3304,19.69564 43.3304,43.3304c0,24.19751 -19.69564,43.33042 -43.3304,43.33042zm0,-205.39739l-918.94229,0c-23.63478,0 -43.3304,-19.69564 -43.3304,-43.33042c0,-23.63476 19.69563,-43.3304 43.3304,-43.3304l918.94229,0c23.63476,0 43.3304,19.69564 43.3304,43.3304c0,24.19751 -19.69564,43.33042 -43.3304,43.33042z"
                                           NormalFill="White" IsMouseOverFill="White" IsMouseOverBackground="#575553"
                                           Click="MoreMenus_Click"/>
                            <control:SvgButton x:Name="mainMinimize" Width="30" Height="25" Margin="0,0,0,0" ImageMargin="7"
                                           ButtonImage="M96 417.984h832v188.032h-832z"
                                           NormalFill="White" IsMouseOverFill="White" IsMouseOverBackground="#575553"
                                           Click="Minimize_Click"/>
                            <control:SvgButton x:Name="mainMaximization" Width="30" Height="25" Margin="0,0,0,0" ImageMargin="5"
                                           ButtonImage="M735.786833 62.98859 288.310382 62.98859c-123.567293 0-223.738737 100.164281-223.738737 223.738737l0 447.476451c0 123.555014 100.17042 223.751017 223.738737 223.751017l447.476451 0c123.561154 0 223.738737-100.196003 223.738737-223.751017L959.52557 286.727327C959.52557 163.15287 859.347986 62.98859 735.786833 62.98859zM831.694159 702.260252c0 70.612221-57.238632 127.850853-127.850853 127.850853L320.292793 830.111105c-70.612221 0-127.850853-57.238632-127.850853-127.850853L192.44194 318.708715c0-70.612221 57.238632-127.850853 127.850853-127.850853l383.551536 0c70.612221 0 127.850853 57.238632 127.850853 127.850853L831.695183 702.260252z"
                                           NormalFill="White" IsMouseOverFill="White" IsMouseOverBackground="#575553"
                                           Click="Maximization_Click"/>
                            <control:SvgButton x:Name="mainClose" Width="30" Height="25" Margin="0,0,0,0" ImageMargin="5"
                                           ButtonImage="M954.304 190.336a15.552 15.552 0 0 1 0 21.952l-300.032 300.032 298.56 298.56a15.616 15.616 0 0 1 0 22.016l-120.96 120.896a15.552 15.552 0 0 1-21.952 0L511.36 655.232 214.272 952.32a15.552 15.552 0 0 1-21.952 0l-120.896-120.896a15.488 15.488 0 0 1 0-21.952l297.152-297.152L69.888 213.76a15.552 15.552 0 0 1 0-21.952l120.896-120.896a15.552 15.552 0 0 1 21.952 0L511.36 369.472l300.096-300.032a15.36 15.36 0 0 1 21.952 0l120.896 120.896z"
                                           NormalFill="White" IsMouseOverFill="White" IsMouseOverBackground="#D8605A"
                                           Command="{Binding Close}"/>
                        </StackPanel>
                        <Popup x:Name="popup_Menu" AllowsTransparency="True" PopupAnimation="Slide" VerticalOffset="10" HorizontalOffset="-36" StaysOpen="False"
                           IsOpen="False" PlacementTarget="{Binding ElementName=MoreMenus}" Placement="Bottom">
                            <Popup.Child>
                                <Grid>
                                    <Border BorderBrush="#92CAF4" BorderThickness="1" Opacity="0.5"></Border>
                                    <Border Background="#35363A" Margin="1" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" />
                                    <StackPanel Margin="1">
                                        <Button Content="Setting" Style="{StaticResource Button_Message}" Command="{Binding Settings}"/>
                                        <Button Content="About" Style="{StaticResource Button_Message}" Command="{Binding About}"/>
                                    </StackPanel>
                                </Grid>
                            </Popup.Child>
                        </Popup>
                    </Grid>
                </Border>
                <Border Grid.Row="1" Background="#35363A" CornerRadius="0,0,5,5">
                    <Grid>
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="600"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <!--配置列表-->
                            <Grid Grid.Column="0">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="40"/>
                                    <RowDefinition Height="*"/>
                                </Grid.RowDefinitions>
                                <Grid Grid.Row="0">
                                    <StackPanel Orientation="Horizontal">
                                        <Label Content="Deploy Service" Foreground="White" FontSize="12" VerticalAlignment="Center" HorizontalAlignment="Left" Margin="10,0"/>
                                        <StackPanel Orientation="Horizontal" VerticalAlignment="Center" HorizontalAlignment="Left" Margin="10,0">
                                            <Label Content="All :" Foreground="White" FontSize="12" />
                                            <Label Content="{c:Binding Services.Count}" Foreground="White" FontSize="12"/>
                                        </StackPanel>
                                        <StackPanel Orientation="Horizontal" VerticalAlignment="Center" HorizontalAlignment="Left" Margin="10,0">
                                            <Label Content="Start :" Foreground="White" FontSize="12" />
                                            <Label Content="{c:Binding ServicesResources.Count}" Foreground="White" FontSize="12" />
                                        </StackPanel>
                                    </StackPanel>
                                    <control:IceButton x:Name="AddService" Width="80" Height="27" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="10,0" Content="Add" 
                                                       Background="#5A5A5A" IsMouseOverFill="#5E5E5E" ButtonCornerRadius="4" FontSize="12" Cursor="Hand"
                                                       Foreground="White" BorderThickness="0" FontWeight="Bold" IsDefault="True" Command="{Binding AddService}"/>
                                </Grid>
                                <Grid Grid.Row="1">
                                    <control:IceDataGrid x:Name="grid" BorderThickness="0" GridLinesVisibility="None" AutoGenerateColumns="False" CanUserAddRows="False" SelectionMode="Single" AlternationCount="2" ItemsSource="{Binding Services}">
                                        <DataGrid.Columns>
                                            <DataGridTemplateColumn Header="State" IsReadOnly="True" Width="60">
                                                <DataGridTemplateColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <Ellipse x:Name="ServiceType" Width="14" Height="14">
                                                            <Ellipse.Style>
                                                                <Style TargetType="Ellipse">
                                                                    <Style.Triggers>
                                                                        <DataTrigger Binding="{Binding ServiceState}" Value="0">
                                                                            <Setter Property="Fill" Value="Gray"/>
                                                                        </DataTrigger>
                                                                        <MultiDataTrigger>
                                                                            <MultiDataTrigger.Conditions>
                                                                                <Condition Binding="{Binding ServiceState}" Value="1"/>
                                                                                <Condition Binding="{c:Binding '(Pid == null)'}" Value="False"/>
                                                                            </MultiDataTrigger.Conditions>
                                                                            <Setter Property="Fill" Value="Lime"/>
                                                                        </MultiDataTrigger>
                                                                        <MultiDataTrigger>
                                                                            <MultiDataTrigger.Conditions>
                                                                                <Condition Binding="{Binding ServiceState}" Value="1"/>
                                                                                <Condition Binding="{c:Binding '(Pid == null)'}" Value="True"/>
                                                                            </MultiDataTrigger.Conditions>
                                                                            <Setter Property="Fill" Value="Orange"/>
                                                                        </MultiDataTrigger>
                                                                        <DataTrigger Binding="{Binding ServiceState}" Value="2">
                                                                            <Setter Property="Fill" Value="Red"/>
                                                                        </DataTrigger>
                                                                        <DataTrigger Binding="{Binding ServiceState}" Value="3">
                                                                            <Setter Property="Fill" Value="Orange"/>
                                                                        </DataTrigger>

                                                                    </Style.Triggers>
                                                                </Style>
                                                            </Ellipse.Style>
                                                        </Ellipse>
                                                    </DataTemplate>
                                                </DataGridTemplateColumn.CellTemplate>
                                            </DataGridTemplateColumn>
                                            <DataGridTemplateColumn Header="Service" IsReadOnly="True" Width="*">
                                                <DataGridTemplateColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <Label Foreground="White" Content="{Binding ServiceName}" ToolTip="{Binding ServiceName}"/>
                                                    </DataTemplate>
                                                </DataGridTemplateColumn.CellTemplate>
                                            </DataGridTemplateColumn>
                                            <DataGridTemplateColumn Header="PID" IsReadOnly="True" Width="*">
                                                <DataGridTemplateColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <Label Foreground="White" Content="{Binding Pid}" ToolTip="{Binding Pid}"/>
                                                    </DataTemplate>
                                                </DataGridTemplateColumn.CellTemplate>
                                            </DataGridTemplateColumn>
                                            <DataGridTemplateColumn Header="Port" IsReadOnly="True" Width="*">
                                                <DataGridTemplateColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <Label Foreground="White" Content="{Binding Port}" ToolTip="{Binding Port}"/>
                                                    </DataTemplate>
                                                </DataGridTemplateColumn.CellTemplate>
                                            </DataGridTemplateColumn>
                                            <DataGridTemplateColumn Header="Actions" Width="300">
                                                <DataGridTemplateColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <StackPanel Orientation="Horizontal" VerticalAlignment="Center" HorizontalAlignment="Center">
                                                            <control:IceButton x:Name="Start" Width="50" Height="24" VerticalAlignment="Center" Margin="2,0" Content="Start"
                                                                               Background="#5A5A5A" IsMouseOverFill="#5E5E5E" ButtonCornerRadius="4" FontSize="12"
                                                                               BorderThickness="0" FontWeight="Bold" IsDefault="True" Cursor="Hand"
                                                                               Command="{Binding Path=DataContext.StartService,RelativeSource={RelativeSource FindAncestor,AncestorType={x:Type control:IceDataGrid}}}" CommandParameter="{Binding}">
                                                                <control:IceButton.Style>
                                                                    <Style TargetType="control:IceButton">
                                                                        <Style.Triggers>
                                                                            <DataTrigger Binding="{Binding ServiceState}" Value="0">
                                                                                <Setter Property="IsEnabled" Value="True"/>
                                                                                <Setter Property="Foreground" Value="LimeGreen"/>
                                                                            </DataTrigger>
                                                                            <DataTrigger Binding="{Binding ServiceState}" Value="1">
                                                                                <Setter Property="IsEnabled" Value="False"/>
                                                                            </DataTrigger>
                                                                            <DataTrigger Binding="{Binding ServiceState}" Value="2">
                                                                                <Setter Property="IsEnabled" Value="True"/>
                                                                                <Setter Property="Foreground" Value="LimeGreen"/>
                                                                            </DataTrigger>
                                                                            <DataTrigger Binding="{Binding ServiceState}" Value="3">
                                                                                <Setter Property="IsEnabled" Value="False"/>
                                                                            </DataTrigger>
                                                                        </Style.Triggers>
                                                                    </Style>
                                                                </control:IceButton.Style>
                                                            </control:IceButton>
                                                            <control:IceButton x:Name="Stop" Width="50" Height="24" VerticalAlignment="Center" Margin="2,0" Content="Stop"
                                                                               Background="#5A5A5A" IsMouseOverFill="#5E5E5E" ButtonCornerRadius="4" FontSize="12"
                                                                               BorderThickness="0" FontWeight="Bold" IsDefault="True" Cursor="Hand"
                                                                               Command="{Binding Path=DataContext.StopService,RelativeSource={RelativeSource FindAncestor,AncestorType={x:Type control:IceDataGrid}}}" CommandParameter="{Binding}">
                                                                <control:IceButton.Style>
                                                                    <Style TargetType="control:IceButton">
                                                                        <Style.Triggers>
                                                                            <DataTrigger Binding="{Binding ServiceState}" Value="0">
                                                                                <Setter Property="IsEnabled" Value="False"/>
                                                                            </DataTrigger>
                                                                            <DataTrigger Binding="{Binding ServiceState}" Value="1">
                                                                                <Setter Property="IsEnabled" Value="True"/>
                                                                                <Setter Property="Foreground" Value="Tomato"/>
                                                                            </DataTrigger>
                                                                            <DataTrigger Binding="{Binding ServiceState}" Value="2">
                                                                                <Setter Property="IsEnabled" Value="False"/>
                                                                            </DataTrigger>
                                                                            <DataTrigger Binding="{Binding ServiceState}" Value="3">
                                                                                <Setter Property="IsEnabled" Value="False"/>
                                                                            </DataTrigger>
                                                                        </Style.Triggers>
                                                                    </Style>
                                                                </control:IceButton.Style>
                                                            </control:IceButton>
                                                            <control:IceButton x:Name="Shell" Width="50" Height="24" VerticalAlignment="Center" Margin="2,0" Content="Shell" 
                                                                               Background="#5A5A5A" IsMouseOverFill="#5E5E5E" ButtonCornerRadius="4" FontSize="12"
                                                                               Foreground="White" BorderThickness="0" FontWeight="Bold" IsDefault="True" Cursor="Hand"
                                                                               Command="{Binding Path=DataContext.ShellService,RelativeSource={RelativeSource FindAncestor,AncestorType={x:Type control:IceDataGrid}}}" CommandParameter="{Binding}">
                                                                <control:IceButton.Style>
                                                                    <Style TargetType="control:IceButton">
                                                                        <Style.Triggers>
                                                                            <DataTrigger Binding="{c:Binding '(Pid == null)'}" Value="True">
                                                                                <Setter Property="IsEnabled" Value="False"/>
                                                                            </DataTrigger>
                                                                        </Style.Triggers>
                                                                    </Style>
                                                                </control:IceButton.Style>
                                                            </control:IceButton>
                                                            <control:IceButton x:Name="Browse" Width="50" Height="24" VerticalAlignment="Center" Margin="2,0" Content="Browse" 
                                                                               Background="#5A5A5A" IsMouseOverFill="#5E5E5E" ButtonCornerRadius="4" FontSize="12"
                                                                               Foreground="#FFE589" BorderThickness="0" FontWeight="Bold" IsDefault="True" Cursor="Hand"
                                                                               Command="{Binding Path=DataContext.BrowseService,RelativeSource={RelativeSource FindAncestor,AncestorType={x:Type control:IceDataGrid}}}" CommandParameter="{Binding}">
                                                                <control:IceButton.Style>
                                                                    <Style TargetType="control:IceButton">
                                                                        <Style.Triggers>
                                                                            <DataTrigger Binding="{Binding AllowDirectoryToOpen}" Value="False">
                                                                                <Setter Property="IsEnabled" Value="False"/>
                                                                            </DataTrigger>
                                                                        </Style.Triggers>
                                                                    </Style>
                                                                </control:IceButton.Style>
                                                            </control:IceButton>
                                                            <control:IceButton x:Name="Edit" Width="50" Height="24" VerticalAlignment="Center" Margin="2,0" Content="Edit" 
                                                                               Background="#5A5A5A" IsMouseOverFill="#5E5E5E" ButtonCornerRadius="4" FontSize="12"
                                                                               Foreground="White" BorderThickness="0" FontWeight="Bold" IsDefault="True" Cursor="Hand"
                                                                               Command="{Binding Path=DataContext.EditService,RelativeSource={RelativeSource FindAncestor,AncestorType={x:Type control:IceDataGrid}}}" CommandParameter="{Binding}"/>
                                                            <control:IceButton x:Name="Delete" Width="25" Height="24" VerticalAlignment="Center" Margin="2,0" Content="X" 
                                                                               Background="#5A5A5A" IsMouseOverFill="#5E5E5E" ButtonCornerRadius="4" FontSize="12"
                                                                               Foreground="Tomato" BorderThickness="0" FontWeight="Bold" IsDefault="True" Cursor="Hand"
                                                                               Command="{Binding Path=DataContext.DeleteService,RelativeSource={RelativeSource FindAncestor,AncestorType={x:Type control:IceDataGrid}}}" CommandParameter="{Binding}"/>
                                                        </StackPanel>
                                                    </DataTemplate>
                                                </DataGridTemplateColumn.CellTemplate>
                                            </DataGridTemplateColumn>
                                        </DataGrid.Columns>
                                    </control:IceDataGrid>
                                </Grid>
                            </Grid>
                            <!--控制台信息-->
                            <Grid Grid.Column="1">
                                <TabControl Background="Transparent" BorderThickness="0" Padding="0" ItemsSource="{Binding ServicesShell}" SelectedIndex="{Binding ServicesShellIndex}">
                                    <TabControl.ItemTemplate>
                                        <DataTemplate>
                                            <ContentPresenter Content="{Binding Value.Header}"/>
                                        </DataTemplate>
                                    </TabControl.ItemTemplate>
                                    <TabControl.ContentTemplate>
                                        <DataTemplate>
                                            <ContentControl Content="{Binding Value.Control}"/>
                                        </DataTemplate>
                                    </TabControl.ContentTemplate>
                                </TabControl>
                            </Grid>
                        </Grid>
                        <!--右下角拖动块-->
                        <Viewbox x:Name="ReSizeBR" VerticalAlignment="Bottom" HorizontalAlignment="Right" Margin="0,0,1,1" Width="8" Height="8">
                            <Path x:Name="Part_Path" Data="M0 1024l1024 0L1024 0 0 1024z" Fill="#707070"/>
                        </Viewbox>
                    </Grid>
                </Border>
            </Grid>
            <Border.Effect>
                <DropShadowEffect Color="Black" BlurRadius="16" ShadowDepth="0" Opacity="0.5" />
            </Border.Effect>
        </Border>
        <Grid x:Name="ReSize">
            <Grid.RowDefinitions>
                <RowDefinition Height="10"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="10"/>
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="10"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="10"/>
            </Grid.ColumnDefinitions>
            <Rectangle Name="ResizeTopLeft" Fill="Transparent" Grid.Row="0" Grid.Column="0" MouseMove="ResizePressed" MouseDown="ResizePressed"/>
            <Rectangle Name="ResizeTop" Fill="Transparent" Grid.Row="0" Grid.Column="1" MouseMove="ResizePressed" MouseDown="ResizePressed"/>
            <Rectangle Name="ResizeTopRight" Fill="Transparent" Grid.Row="0" Grid.Column="2" MouseMove="ResizePressed" MouseDown="ResizePressed"/>
            <Rectangle Name="ResizeLeft" Fill="Transparent" Grid.Row="1" Grid.Column="0" MouseMove="ResizePressed" MouseDown="ResizePressed"/>
            <Rectangle Name="ResizeRight" Fill="Transparent" Grid.Row="1" Grid.Column="2" MouseMove="ResizePressed" MouseDown="ResizePressed"/>
            <Rectangle Name="ResizeBottomLeft" Fill="Transparent" Grid.Row="2" Grid.Column="0" MouseMove="ResizePressed" MouseDown="ResizePressed"/>
            <Rectangle Name="ResizeBottom" Fill="Transparent" Grid.Row="2" Grid.Column="1" MouseMove="ResizePressed" MouseDown="ResizePressed"/>
            <Rectangle Name="ResizeBottomRight" Fill="Transparent" Grid.Row="2" Grid.Column="2" MouseMove="ResizePressed" MouseDown="ResizePressed"/>
        </Grid>
    </Grid>
</Window>
